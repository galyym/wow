# üé® –§—É–Ω–∫—Ü–∏—è –≤—ã–±–æ—Ä–∞ –æ–±–ª–∞—Å—Ç–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ (Circular Cropper)

**–î–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è:** –ù–æ—è–±—Ä—å 15, 2025  
**–í–µ—Ä—Å–∏—è:** v1.1

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–§—É–Ω–∫—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞–º –≤—ã–±—Ä–∞—Ç—å –Ω—É–∂–Ω—É—é —á–∞—Å—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –º–æ–ª–æ–¥–æ–∂—ë–Ω–æ–≤ –≤ –≤–∏–¥–µ –∫—Ä—É–∂–∫–∞ –∏ –ø–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ —ç—Ç—É –æ–±–ª–∞—Å—Ç—å –≤ –ø—Ä–∏–≥–ª–∞—Å–∏—Ç–µ–ª—å–Ω–æ–º.

## ‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### ‚úÖ –ß—Ç–æ –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å:
- **–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ** - –∫–∞–∫ —Ä–∞–Ω—å—à–µ, drag-and-drop –∏–ª–∏ –∫–ª–∏–∫
- **–í—ã–±—Ä–∞—Ç—å –æ–±–ª–∞—Å—Ç—å** - –∫–Ω–æ–ø–∫–∞ "‚úèÔ∏è –í—ã–±—Ä–∞—Ç—å –æ–±–ª–∞—Å—Ç—å" –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ä–µ–¥–∞–∫—Ç–æ—Ä
- **–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –∫—Ä—É–∂–æ–∫** - –ø–µ—Ä–µ—Ç–∞—â–∏—Ç—å —Ü–µ–Ω—Ç—Ä –∫—Ä—É–≥–∞ –Ω–∞ –Ω—É–∂–Ω–æ–µ –º–µ—Å—Ç–æ
- **–ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä** - –ø–æ—Ç—è–Ω—É—Ç—å –∫—Ä–∞–π –∫—Ä—É–≥–∞, —á—Ç–æ–±—ã —É–≤–µ–ª–∏—á–∏—Ç—å/—É–º–µ–Ω—å—à–∏—Ç—å
- **–ü—Ä–∏–º–µ–Ω–∏—Ç—å –≤—ã–±–æ—Ä** - –∫–Ω–æ–ø–∫–∞ "‚úì –ü—Ä–∏–º–µ–Ω–∏—Ç—å –≤—ã–±–æ—Ä" —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—ã–±–æ—Ä
- **–£–¥–∞–ª–∏—Ç—å —Ñ–æ—Ç–æ** - –∫–Ω–æ–ø–∫–∞ X —É–¥–∞–ª—è–µ—Ç —Ñ–æ—Ç–æ –∏ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç –≤—ã–±–æ—Ä

### üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ:**
   ```
   –ö–ª–∏–µ–Ω—Ç –≤—ã–±–∏—Ä–∞–µ—Ç —Ñ–æ—Ç–æ ‚Üí —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–µ–≤—å—é –∏ –∫–Ω–æ–ø–∫—É "‚úèÔ∏è –í—ã–±—Ä–∞—Ç—å –æ–±–ª–∞—Å—Ç—å"
   ```

2. **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±–ª–∞—Å—Ç–∏:**
   ```
   –ö–ª–∏–µ–Ω—Ç –∫–ª–∏–∫–∞–µ—Ç "‚úèÔ∏è –í—ã–±—Ä–∞—Ç—å –æ–±–ª–∞—Å—Ç—å" ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∫—Ä–æ–ø–ø–µ—Ä
   - –ö–≤–∞–¥—Ä–∞—Ç–Ω–æ–µ –æ–∫–Ω–æ —Å —Ñ–æ—Ç–æ –∏ –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º –æ–≤–µ—Ä–ª–µ–µ–º
   - –ó–æ–ª–æ—Ç–∏—Å—Ç—ã–π –∫—Ä—É–∂–æ–∫ - –≤—ã–±—Ä–∞–Ω–Ω–∞—è –æ–±–ª–∞—Å—Ç—å
   - –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –Ω–∞ —Ü–µ–Ω—Ç—Ä = –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ
   - –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –Ω–∞ –∫—Ä–∞–π = –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞
   ```

3. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ:**
   ```
   –ö–ª–∏–µ–Ω—Ç –Ω–∞–∂–∏–º–∞–µ—Ç "‚úì –ü—Ä–∏–º–µ–Ω–∏—Ç—å –≤—ã–±–æ—Ä" ‚Üí –æ–±–ª–∞—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ cropData
   ```

4. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –ø—Ä–µ–≤—å—é:**
   ```
   –ü—Ä–µ–≤—å—é –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤—ã–±—Ä–∞–Ω–Ω—É—é –æ–±–ª–∞—Å—Ç—å –≤ –≤–∏–¥–µ –∫—Ä—É–∂–∫–∞
   –û—Å—Ç–∞–ª—å–Ω–æ–µ —á–∞—Å—Ç—å —Ñ–æ—Ç–æ —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è (mask)
   ```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

```javascript
// –í EditorPage (PhotoBlock):
{ 
  id: 'photo', 
  name: '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –º–æ–ª–æ–¥–æ–∂—ë–Ω–æ–≤', 
  enabled: true, 
  order: 0, 
  data: { 
    image: 'data:image/jpeg;base64,...',  // Base64 —Ñ–æ—Ç–æ
    cropData: {
      x: 0.5,        // –ü–æ–∑–∏—Ü–∏—è —Ü–µ–Ω—Ç—Ä–∞ (0-1, –≥–¥–µ 0.5 = —Å–µ—Ä–µ–¥–∏–Ω–∞)
      y: 0.5,        // –ü–æ–∑–∏—Ü–∏—è —Ü–µ–Ω—Ç—Ä–∞ (0-1)
      radius: 0.3    // –†–∞–¥–∏—É—Å –∫—Ä—É–∂–∫–∞ (0-0.5)
    }
  } 
}
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### **PhotoBlock.jsx** (~200 —Å—Ç—Ä–æ–∫)
- –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–æ–ø–ø–µ—Ä–æ–º
- Drag-and-drop –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞
- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `handleImageUpload()` - –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ
- `handleMouseDown()` - –Ω–∞—á–∞–ª–æ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è
- `handleMouseMove()` - –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ/–∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞
- `handleMouseUp()` - –∫–æ–Ω–µ—Ü –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è
- `applyCrop()` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞

#### **PreviewPanel.jsx** (–æ–±–Ω–æ–≤–ª–µ–Ω–∞)
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ñ–æ—Ç–æ —Å –º–∞—Å–∫–æ–π (mask-image)
- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ cropData –¥–ª—è –æ–±—Ä–µ–∑–∫–∏

**–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:**
```javascript
// –†–∞–Ω—å—à–µ:
<img src={data.image} className="rounded-full" />

// –¢–µ–ø–µ—Ä—å:
<div style={{ 
  maskImage: `radial-gradient(circle at ${x}% ${y}%, black ${r}%, transparent ...)`
}}>
  <img src={data.image} />
</div>
```

## üé® UI/UX

### –ö—Ä–æ–ø–ø–µ—Ä (–†–µ–¥–∞–∫—Ç–æ—Ä –æ–±–ª–∞—Å—Ç–∏)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –§–æ—Ç–æ (–∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–µ)         ‚îÇ
‚îÇ                             ‚îÇ
‚îÇ    ‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ          ‚îÇ
‚îÇ    ‚îÇ ‚úì –û–±–ª–∞—Å—Ç—å   ‚îÇ          ‚îÇ  –ó–æ–ª–æ—Ç–∏—Å—Ç—ã–π –∫—Ä—É–∂–æ–∫
‚îÇ    ‚îÇ      (++)   ‚îÇ          ‚îÇ  ++ = —Ç–∞—â–∏ –∑–∞ –∫—Ä–∞–π
‚îÇ    ‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ          ‚îÇ  –¶–µ–Ω—Ç—Ä = —Ç–∞—â–∏ –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è
‚îÇ                             ‚îÇ
‚îÇ  –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π –æ–≤–µ—Ä–ª–µ–π    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
   ‚Üì
"–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –∫—Ä—É–≥, —á—Ç–æ–±—ã –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å..."
   ‚Üì
[‚úì –ü—Ä–∏–º–µ–Ω–∏—Ç—å –≤—ã–±–æ—Ä]
```

### –ü—Ä–µ–≤—å—é

```
–î–æ:                          –ü–æ—Å–ª–µ:
[–ü–æ–ª–Ω–æ–µ —Ñ–æ—Ç–æ]               [–ö—Ä—É–∂–æ–∫ —Å –≤—ã–±—Ä–∞–Ω–Ω–æ–π –æ–±–ª–∞—Å—Ç—å—é]
 –≤ –≤–∏–¥–µ –∫—Ä—É–∂–∫–∞               (–æ—Å—Ç–∞–ª—å–Ω–æ–µ —Å–∫—Ä—ã—Ç–æ)
```

## üì± –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è

- ‚úÖ –ö—Ä–æ–ø–ø–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º
- ‚úÖ Touch —Å–æ–±—ã—Ç–∏—è –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã (–ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç—Å—è –≤ mouse events)
- ‚úÖ –ú–æ–∂–µ—Ç –±—ã—Ç—å —É–ª—É—á—à–µ–Ω–æ –¥–ª—è touch-specific –¥–µ–π—Å—Ç–≤–∏–π –≤ –±—É–¥—É—â–µ–º

## üöÄ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ö–ª–∏–µ–Ω—Ç –≤–∏–¥–∏—Ç:

1. **–®–∞–≥ 1 - –ó–∞–≥—Ä—É–∑–∫–∞:**
   ```
   –ù–∞–∂–∏–º–∞—é –Ω–∞ –∫–≤–∞–¥—Ä–∞—Ç –∏–ª–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞—é —Ñ–æ—Ç–æ
   ‚Üí –§–æ—Ç–æ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ –∫—Ä—É–∂–∫–µ
   ‚Üí –í–∏–¥–Ω—é –∫–Ω–æ–ø–∫—É "‚úèÔ∏è –í—ã–±—Ä–∞—Ç—å –æ–±–ª–∞—Å—Ç—å"
   ```

2. **–®–∞–≥ 2 - –í—ã–±–æ—Ä –æ–±–ª–∞—Å—Ç–∏:**
   ```
   –ù–∞–∂–∏–º–∞—é "‚úèÔ∏è –í—ã–±—Ä–∞—Ç—å –æ–±–ª–∞—Å—Ç—å"
   ‚Üí –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –±–æ–ª—å—à–æ–π –∫—Ä–æ–ø–ø–µ—Ä
   ‚Üí –í–∏–∂—É —Ñ–æ—Ç–æ —Å –∫—Ä—É–∂–∫–æ–º –∏ –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º –æ–≤–µ—Ä–ª–µ–µ–º
   ```

3. **–®–∞–≥ 3 - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   ```
   –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞—é –∫—Ä—É–∂–æ–∫ –Ω–∞ –Ω—É–∂–Ω–æ–µ –º–µ—Å—Ç–æ (–ª–∏—Ü–∞)
   –ò–∑–º–µ–Ω—è—é —Ä–∞–∑–º–µ—Ä –∫—Ä—É–∂–∫–∞, –ø–æ—Ç—è–Ω—É–≤ –∫—Ä–∞–π
   –ù–∞–∂–∏–º–∞—é "‚úì –ü—Ä–∏–º–µ–Ω–∏—Ç—å –≤—ã–±–æ—Ä"
   ```

4. **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
   ```
   –í –ø—Ä–µ–≤—å—é –≤–∏–¥—é —Ç–æ–ª—å–∫–æ –≤—ã–±—Ä–∞–Ω–Ω—É—é –æ–±–ª–∞—Å—Ç—å –≤ –∫—Ä—É–∂–∫–µ
   –û—Å—Ç–∞–ª—å–Ω–æ–µ —Å–∫—Ä—ã—Ç–æ
   ```

## üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

### localStorage

```javascript
// –ü—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:
localStorage.setItem(invitationId, JSON.stringify({
  templateId: 'template1',
  blocks: [
    {
      id: 'photo',
      data: {
        image: 'data:image/jpeg;base64,...',
        cropData: { x: 0.45, y: 0.55, radius: 0.25 }
      }
    },
    // –æ—Å—Ç–∞–ª—å–Ω—ã–µ –±–ª–æ–∫–∏...
  ]
}));
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

```javascript
// –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø—Ä–∏–≥–ª–∞—Å–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤—Å—ë:
const saved = JSON.parse(localStorage.getItem(invitationId));
// cropData –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤ PreviewPanel
```

## üîÆ –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–§–∏–ª—å—Ç—Ä—ã –∏ —ç—Ñ—Ñ–µ–∫—Ç—ã:**
   - –ì—Ä–∞–º–º–∞—Å—Ç–∏–ª–∏ (retro, black&white, sepia)
   - –ù–∞—Å—ã—â–µ–Ω–Ω–æ—Å—Ç—å –∏ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç—å

2. **–†–æ—Ç–∞—Ü–∏—è —Ñ–æ—Ç–æ:**
   - –ö–Ω–æ–ø–∫–∞ –ø–æ–≤–æ—Ä–æ—Ç–∞ ‚Üª

3. **–£–ª—É—á—à–µ–Ω–Ω–∞—è –º–∞—Å–∫–∞:**
   - –ì–µ–∫—Å–∞–≥–æ–Ω, —Å–µ—Ä–¥—Ü–µ, –∑–≤–µ–∑–¥–∞ –≤–º–µ—Å—Ç–æ –∫—Ä—É–≥–∞
   - –ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫ —Å —Å–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–º–∏ —É–≥–ª–∞–º–∏

4. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:**
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ "–í–∞—Ä–∏–∞–Ω—Ç 1", "–í–∞—Ä–∏–∞–Ω—Ç 2"
   - –ë—ã—Å—Ç—Ä–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É –Ω–∏–º–∏

5. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ª–∏—Ü:**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å face-detection API
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –ª–∏—Ü–µ

6. **Zoom-in/out:**
   - –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏ –∫—Ä—É–∂–∫–∞
   - –õ—É—á—à–µ –≤–∏–¥–Ω–æ –¥–µ—Ç–∞–ª–∏

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Chrome, Firefox, Safari, Edge
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö
- ‚ö†Ô∏è –û—á–µ–Ω—å –±–æ–ª—å—à–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (>10MB) –º–æ–≥—É—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–º–∏
- ‚ö†Ô∏è –ù–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö mask-image –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ:** < 1—Å–µ–∫
- **–û—Ç–∫—Ä—ã—Ç–∏–µ –∫—Ä–æ–ø–ø–µ—Ä–∞:** < 100ms
- **–ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∫—Ä—É–∂–∫–∞:** 60 FPS (–ø–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è)
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞:** < 50ms

## üéì –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞:

```javascript
// PhotoBlock.jsx

const [cropData, setCropData] = useState({
  x: 0.5,        // –¶–µ–Ω—Ç—Ä –ø–æ X
  y: 0.5,        // –¶–µ–Ω—Ç—Ä –ø–æ Y
  radius: 0.3    // –†–∞–¥–∏—É—Å (–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π, 0-0.5)
});

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –º—ã—à–∏ –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è
const handleMouseMove = (e) => {
  if (dragType === 'move') {
    // –ù–æ–≤–∞—è –ø–æ–∑–∏—Ü–∏—è —Ü–µ–Ω—Ç—Ä–∞
    setCropData({ ...cropData, x: newX, y: newY });
  } else if (dragType === 'resize') {
    // –ù–æ–≤—ã–π —Ä–∞–¥–∏—É—Å
    setCropData({ ...cropData, radius: newRadius });
  }
};
```

### –ú–∞—Å–∫–∞ –≤ PreviewPanel:

```javascript
// CSS mask —Å radial-gradient
style={{
  maskImage: `radial-gradient(
    circle at ${cropData.x * 100}% ${cropData.y * 100}%, 
    black ${cropData.radius * 100}%, 
    transparent ${cropData.radius * 100}% + 2%
  )`
}}
```

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏

- [ ] –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ –º–æ–ª–æ–¥–æ–∂—ë–Ω–æ–≤
- [ ] –ù–∞–∂–∞—Ç—å "‚úèÔ∏è –í—ã–±—Ä–∞—Ç—å –æ–±–ª–∞—Å—Ç—å"
- [ ] –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –∫—Ä—É–∂–æ–∫ –Ω–∞ –Ω—É–∂–Ω–æ–µ –º–µ—Å—Ç–æ
- [ ] –ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä –∫—Ä—É–∂–∫–∞ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
- [ ] –ù–∞–∂–∞—Ç—å "‚úì –ü—Ä–∏–º–µ–Ω–∏—Ç—å –≤—ã–±–æ—Ä"
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ø—Ä–µ–≤—å—é —á—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é  
**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö  
**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ

–ö–ª–∏–µ–Ω—Ç—ã —Ç–µ–ø–µ—Ä—å –º–æ–≥—É—Ç —Ç–æ—á–Ω–æ –≤—ã–±—Ä–∞—Ç—å, –∫–∞–∫—É—é —á–∞—Å—Ç—å —Ñ–æ—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å –≤ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–∏! üéâ
